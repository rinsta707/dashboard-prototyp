<hcl-modal-dialog #editUserModal>

  <hcl-dialog-header>
    {{ 'users.modals.edit.title' | hclTranslate }}
  </hcl-dialog-header>

  <hcl-dialog-body >
    <form [formGroup]="form">

      <div class="user-form">
        <hcl-form-input class="user-input">
          <input maxlength="50" hcl-input type='text' autocomplete="username" formControlName="username">
          <hcl-label>{{ 'users.modals.form.username' | hclTranslate }}<span class="required">*</span></hcl-label>
          @if (form.controls['username'].hasError("required")) {
            <hcl-input-error>{{ 'users.modals.form.required' | hclTranslate }}</hcl-input-error>
          }
        </hcl-form-input>

        <hcl-form-input class="user-input">
          <input maxlength="50" hcl-input type='password' autocomplete="new-password" formControlName="password">
          <hcl-label>{{ 'users.modals.form.password' | hclTranslate }}</hcl-label>

          @if (form.controls['password'].hasError("minlength")) {
            <hcl-input-error>{{ 'users.modals.form.min-length' | hclTranslate }}</hcl-input-error>
          }
        </hcl-form-input>

        <hcl-form-input class="user-input">
          <input maxlength="50" hcl-input type='password' autocomplete="new-password" formControlName="repeatPassword">
          <hcl-label>{{ 'users.modals.form.repeat-password' | hclTranslate }}</hcl-label>

          @if (form.controls['repeatPassword'].hasError('mustMatch')) {
            <hcl-input-error>{{ 'users.modals.form.mismatch' | hclTranslate }}</hcl-input-error>
          }
        </hcl-form-input>

        <div hcl-form-field class="role-input">
          <label hcl-label>{{ 'users.modals.form.roles' | hclTranslate }}</label>
          <div class="hcl-form-field-vertical">
            <hcl-checkbox formControlName="isSystemAdmin">{{ 'users.roles.system-admin' | hclTranslate }}</hcl-checkbox>
            <hcl-checkbox formControlName="isAdmin">{{ 'users.roles.admin' | hclTranslate }}</hcl-checkbox>
            <hcl-checkbox formControlName="isUser">{{ 'users.roles.user' | hclTranslate }}</hcl-checkbox>
            <hcl-checkbox formControlName="isGuest">{{ 'users.roles.guest' | hclTranslate }}</hcl-checkbox>
          </div>
        </div>
        @if (this.form.hasError('missingRole') && this.form.touched) {
          <hcl-input-error>{{ 'users.modals.form.roles-required' | hclTranslate }}</hcl-input-error>
        }
      </div>

    </form>
  </hcl-dialog-body>

  <hcl-dialog-footer>
    <button hcl-button type='button' hcl-color="primary" (click)='save()'>
      {{ 'users.modals.buttons.save' | hclTranslate }}
    </button>
    <button hcl-button type='button' class="cancel-button" (click)='close()'>
      {{ 'users.modals.buttons.cancel' | hclTranslate }}
    </button>
  </hcl-dialog-footer>

</hcl-modal-dialog>
